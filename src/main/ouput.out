*** Cannot find timeout command; proceeding without timeouts.
*** Starting wc test.
==================
WARNING: DATA RACE
Read at 0x00c0001c4198 by goroutine 16:
  runtime.racereadrange()
      <autogenerated>:1 +0x1b

Previous write at 0x00c0001c4198 by goroutine 15:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:130 +0x4d1
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 16 (running) created at:
  6.824/mr.(*server).heartCheck()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:28 +0x8e
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:127 +0x438
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 15 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
woker26240获取到任务type=map file=[../pg-being_ernest.txt]
Map任务开始, fileNames = [../pg-being_ernest.txt]
woker26239获取到任务type=map file=[../pg-frankenstein.txt]
Map任务开始, fileNames = [../pg-frankenstein.txt]
woker26241获取到任务type=map file=[../pg-dorian_gray.txt]
Map任务开始, fileNames = [../pg-dorian_gray.txt]
Map任务完成, fileNames = [../pg-being_ernest.txt]
==================
WARNING: DATA RACE
Read at 0x00c00019a050 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c00019a050 by goroutine 18:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:135 +0x608
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 18 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c000180240 by main goroutine:
  reflect.maplen()
      /usr/local/go/src/runtime/map.go:1392 +0x0
  reflect.Value.Len()
      /usr/local/go/src/reflect/value.go:1575 +0x268
  internal/fmtsort.Sort()
      /usr/local/go/src/internal/fmtsort/sort.go:59 +0xa4
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0x739
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000180240 by goroutine 18:
  runtime.mapassign_fast64()
      /usr/local/go/src/runtime/map_fast64.go:93 +0x0
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:119 +0x387
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 18 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c0001c4200 by main goroutine:
  reflect.copyVal()
      /usr/local/go/src/reflect/value.go:1835 +0xb3
  reflect.(*MapIter).Value()
      /usr/local/go/src/reflect/value.go:1745 +0x104
  internal/fmtsort.Sort()
      /usr/local/go/src/internal/fmtsort/sort.go:65 +0x2b1
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0x739
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c0001c4200 by goroutine 17:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:119 +0x396
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 17 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26239:0xc000302000 26240:0xc0001c4120 26241:0xc0000c06c0] mapOutputLocations:[] unCommitMapTasks:[../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
Map任务完成, fileNames = [../pg-frankenstein.txt]
Map任务完成, fileNames = [../pg-dorian_gray.txt]
woker26240获取到任务type=map file=[../pg-grimm.txt]
Map任务开始, fileNames = [../pg-grimm.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26239:0xc000302000 26240:0xc0001c4120 26241:0xc0000c06c0] mapOutputLocations:[] unCommitMapTasks:[../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26239获取到任务type=map file=[../pg-huckleberry_finn.txt]
Map任务开始, fileNames = [../pg-huckleberry_finn.txt]
woker26241获取到任务type=map file=[../pg-metamorphosis.txt]
Map任务开始, fileNames = [../pg-metamorphosis.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26239:0xc000302000 26240:0xc0001c4120 26241:0xc0000c06c0] mapOutputLocations:[] unCommitMapTasks:[../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
Map任务完成, fileNames = [../pg-grimm.txt]
Map任务完成, fileNames = [../pg-metamorphosis.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26239:0xc000302000 26240:0xc0001c4120 26241:0xc0000c06c0] mapOutputLocations:[] unCommitMapTasks:[../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26240获取到任务type=map file=[../pg-sherlock_holmes.txt]
Map任务开始, fileNames = [../pg-sherlock_holmes.txt]
Map任务完成, fileNames = [../pg-huckleberry_finn.txt]
woker26241获取到任务type=map file=[../pg-tom_sawyer.txt]
Map任务开始, fileNames = [../pg-tom_sawyer.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26239:0xc000302000 26240:0xc0001c4120 26241:0xc0000c06c0] mapOutputLocations:[] unCommitMapTasks:[] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26239获取到任务type= file=[]
Map任务完成, fileNames = [../pg-tom_sawyer.txt]
Map任务完成, fileNames = [../pg-sherlock_holmes.txt]
==================
WARNING: DATA RACE
Write at 0x00c00019a028 by goroutine 65:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:100 +0xab0
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Previous read at 0x00c00019a028 by main goroutine:
  6.824/mr.(*Coordinator).Done()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:185 +0x14c
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:32 +0xd5

Goroutine 65 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c00019a038 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c00019a038 by goroutine 65:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:103 +0xd4b
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 65 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c00039c430 by main goroutine:
  reflect.Value.Int()
      /usr/local/go/src/reflect/value.go:1411 +0x18f8
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:745 +0x1874
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:865 +0x22d8
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c00039c430 by goroutine 65:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:103 +0xd28
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 65 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26239:0xc000302000 26240:0xc0001c4120 26241:0xc0000c06c0] mapOutputLocations:[26239 26240 26241] unCommitMapTasks:[] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26239获取到任务type=reduce file=[map_26239_0 map_26240_0 map_26241_0]
开始处理reduce任务 fileNames=[map_26239_0 map_26240_0 map_26241_0]
woker26241获取到任务type=reduce file=[map_26239_1 map_26240_1 map_26241_1]
开始处理reduce任务 fileNames=[map_26239_1 map_26240_1 map_26241_1]
woker26240获取到任务type=reduce file=[map_26239_2 map_26240_2 map_26241_2]
开始处理reduce任务 fileNames=[map_26239_2 map_26240_2 map_26241_2]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-1250818383reduce任务处理完成
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-1386396409reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26239:0xc000302000 26240:0xc0001c4120 26241:0xc0000c06c0] mapOutputLocations:[26239 26240 26241] unCommitMapTasks:[] unCommitReduceTasks:[3 4 5 6 7 8 9]}]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-2931005272reduce任务处理完成
woker26241获取到任务type=reduce file=[map_26239_3 map_26240_3 map_26241_3]
开始处理reduce任务 fileNames=[map_26239_3 map_26240_3 map_26241_3]
woker26239获取到任务type=reduce file=[map_26239_4 map_26240_4 map_26241_4]
开始处理reduce任务 fileNames=[map_26239_4 map_26240_4 map_26241_4]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26239:0xc000302000 26240:0xc0001c4120 26241:0xc0000c06c0] mapOutputLocations:[26239 26240 26241] unCommitMapTasks:[] unCommitReduceTasks:[5 6 7 8 9]}]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-3327804038reduce任务处理完成
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-373992038reduce任务处理完成
woker26240获取到任务type=reduce file=[map_26239_5 map_26240_5 map_26241_5]
开始处理reduce任务 fileNames=[map_26239_5 map_26240_5 map_26241_5]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-193609146reduce任务处理完成
==================
WARNING: DATA RACE
Read at 0x00c00019a068 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c00019a068 by goroutine 29:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:145 +0x9cf
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 29 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26239:0xc000302000 26240:0xc0001c4120 26241:0xc0000c06c0] mapOutputLocations:[26239 26240 26241] unCommitMapTasks:[] unCommitReduceTasks:[6 7 8 9]}]
woker26241获取到任务type=reduce file=[map_26239_6 map_26240_6 map_26241_6]
开始处理reduce任务 fileNames=[map_26239_6 map_26240_6 map_26241_6]
woker26239获取到任务type=reduce file=[map_26239_7 map_26240_7 map_26241_7]
开始处理reduce任务 fileNames=[map_26239_7 map_26240_7 map_26241_7]
woker26240获取到任务type=reduce file=[map_26239_8 map_26240_8 map_26241_8]
开始处理reduce任务 fileNames=[map_26239_8 map_26240_8 map_26241_8]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-1930147330reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26239:0xc000302000 26240:0xc0001c4120 26241:0xc0000c06c0] mapOutputLocations:[26239 26240 26241] unCommitMapTasks:[] unCommitReduceTasks:[9]}]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-3435687135reduce任务处理完成
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-2407073261reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26239:0xc000302000 26240:0xc0001c4120 26241:0xc0000c06c0] mapOutputLocations:[26239 26240 26241] unCommitMapTasks:[] unCommitReduceTasks:[9]}]
woker26239获取到任务type=reduce file=[map_26239_9 map_26240_9 map_26241_9]
开始处理reduce任务 fileNames=[map_26239_9 map_26240_9 map_26241_9]
woker26241获取到任务type= file=[]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-1845002652reduce任务处理完成
woker26240获取到任务type= file=[]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:2 servers:map[26239:0xc000302000 26240:0xc0001c4120 26241:0xc0000c06c0] mapOutputLocations:[26239 26240 26241] unCommitMapTasks:[] unCommitReduceTasks:[]}]
woker26241获取到任务type= file=[]
woker26239获取到任务type= file=[]
woker26240获取到任务type= file=[]
Found 8 data race(s)
--- wc test: PASS
2022/07/31 02:20:03 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
2022/07/31 02:20:04 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
2022/07/31 02:20:04 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
*** Starting indexer test.
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[] mapOutputLocations:[] unCommitMapTasks:[../pg-being_ernest.txt ../pg-dorian_gray.txt ../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
==================
WARNING: DATA RACE
Read at 0x00c0000c0468 by goroutine 15:
  runtime.racereadrange()
      <autogenerated>:1 +0x1b

Previous write at 0x00c0000c0468 by goroutine 14:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:130 +0x4d1
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 15 (running) created at:
  6.824/mr.(*server).heartCheck()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:28 +0x8e
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:127 +0x438
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 14 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
woker26266获取到任务type=map file=[../pg-being_ernest.txt]
Map任务开始, fileNames = [../pg-being_ernest.txt]
woker26267获取到任务type=map file=[../pg-dorian_gray.txt]
Map任务开始, fileNames = [../pg-dorian_gray.txt]
Map任务完成, fileNames = [../pg-being_ernest.txt]
Map任务完成, fileNames = [../pg-dorian_gray.txt]
==================
WARNING: DATA RACE
Read at 0x00c000202050 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000202050 by goroutine 16:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:135 +0x608
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 16 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c00007a300 by main goroutine:
  reflect.maplen()
      /usr/local/go/src/runtime/map.go:1392 +0x0
  reflect.Value.Len()
      /usr/local/go/src/reflect/value.go:1575 +0x268
  internal/fmtsort.Sort()
      /usr/local/go/src/internal/fmtsort/sort.go:59 +0xa4
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0x739
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c00007a300 by goroutine 16:
  runtime.mapassign_fast64()
      /usr/local/go/src/runtime/map_fast64.go:93 +0x0
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:119 +0x387
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 16 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c0000c04c8 by main goroutine:
  reflect.copyVal()
      /usr/local/go/src/reflect/value.go:1835 +0xb3
  reflect.(*MapIter).Value()
      /usr/local/go/src/reflect/value.go:1745 +0x104
  internal/fmtsort.Sort()
      /usr/local/go/src/internal/fmtsort/sort.go:65 +0x2b1
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0x739
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c0000c04c8 by goroutine 14:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:119 +0x396
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 14 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26266:0xc0000c03f0 26267:0xc0000121b0] mapOutputLocations:[] unCommitMapTasks:[../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26266获取到任务type=map file=[../pg-frankenstein.txt]
Map任务开始, fileNames = [../pg-frankenstein.txt]
woker26267获取到任务type=map file=[../pg-grimm.txt]
Map任务开始, fileNames = [../pg-grimm.txt]
Map任务完成, fileNames = [../pg-frankenstein.txt]
Map任务完成, fileNames = [../pg-grimm.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26266:0xc0000c03f0 26267:0xc0000121b0] mapOutputLocations:[] unCommitMapTasks:[../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26266获取到任务type=map file=[../pg-huckleberry_finn.txt]
Map任务开始, fileNames = [../pg-huckleberry_finn.txt]
woker26267获取到任务type=map file=[../pg-metamorphosis.txt]
Map任务开始, fileNames = [../pg-metamorphosis.txt]
Map任务完成, fileNames = [../pg-metamorphosis.txt]
Map任务完成, fileNames = [../pg-huckleberry_finn.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26266:0xc0000c03f0 26267:0xc0000121b0] mapOutputLocations:[] unCommitMapTasks:[../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26267获取到任务type=map file=[../pg-sherlock_holmes.txt]
Map任务开始, fileNames = [../pg-sherlock_holmes.txt]
woker26266获取到任务type=map file=[../pg-tom_sawyer.txt]
Map任务开始, fileNames = [../pg-tom_sawyer.txt]
Map任务完成, fileNames = [../pg-sherlock_holmes.txt]
Map任务完成, fileNames = [../pg-tom_sawyer.txt]
==================
WARNING: DATA RACE
Write at 0x00c000202028 by goroutine 61:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:100 +0xab0
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Previous read at 0x00c000202028 by main goroutine:
  6.824/mr.(*Coordinator).Done()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:185 +0x14c
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:32 +0xd5

Goroutine 61 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c000202038 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000202038 by goroutine 61:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:103 +0xd4b
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 61 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c0000bfa68 by main goroutine:
  reflect.Value.Int()
      /usr/local/go/src/reflect/value.go:1411 +0x18f8
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:745 +0x1874
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:865 +0x22d8
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c0000bfa68 by goroutine 61:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:103 +0xd28
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 61 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26266:0xc0000c03f0 26267:0xc0000121b0] mapOutputLocations:[26266 26267] unCommitMapTasks:[] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26267获取到任务type=reduce file=[map_26266_0 map_26267_0]
开始处理reduce任务 fileNames=[map_26266_0 map_26267_0]
woker26266获取到任务type=reduce file=[map_26266_1 map_26267_1]
开始处理reduce任务 fileNames=[map_26266_1 map_26267_1]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-2614423118reduce任务处理完成
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-307552215reduce任务处理完成
==================
WARNING: DATA RACE
Read at 0x00c000202068 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000202068 by goroutine 67:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:145 +0x9cf
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 67 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26266:0xc0000c03f0 26267:0xc0000121b0] mapOutputLocations:[26266 26267] unCommitMapTasks:[] unCommitReduceTasks:[2 3 4 5 6 7 8 9]}]
woker26267获取到任务type=reduce file=[map_26266_2 map_26267_2]
开始处理reduce任务 fileNames=[map_26266_2 map_26267_2]
woker26266获取到任务type=reduce file=[map_26266_3 map_26267_3]
开始处理reduce任务 fileNames=[map_26266_3 map_26267_3]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-4198862723reduce任务处理完成
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-3510733670reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26266:0xc0000c03f0 26267:0xc0000121b0] mapOutputLocations:[26266 26267] unCommitMapTasks:[] unCommitReduceTasks:[4 5 6 7 8 9]}]
woker26267获取到任务type=reduce file=[map_26266_4 map_26267_4]
开始处理reduce任务 fileNames=[map_26266_4 map_26267_4]
woker26266获取到任务type=reduce file=[map_26266_5 map_26267_5]
开始处理reduce任务 fileNames=[map_26266_5 map_26267_5]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26266:0xc0000c03f0 26267:0xc0000121b0] mapOutputLocations:[26266 26267] unCommitMapTasks:[] unCommitReduceTasks:[6 7 8 9]}]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-1173756768reduce任务处理完成
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-3896212030reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26266:0xc0000c03f0 26267:0xc0000121b0] mapOutputLocations:[26266 26267] unCommitMapTasks:[] unCommitReduceTasks:[6 7 8 9]}]
woker26266获取到任务type=reduce file=[map_26266_6 map_26267_6]
开始处理reduce任务 fileNames=[map_26266_6 map_26267_6]
woker26267获取到任务type=reduce file=[map_26266_7 map_26267_7]
开始处理reduce任务 fileNames=[map_26266_7 map_26267_7]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-3640112837reduce任务处理完成
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-1697982384reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26266:0xc0000c03f0 26267:0xc0000121b0] mapOutputLocations:[26266 26267] unCommitMapTasks:[] unCommitReduceTasks:[8 9]}]
woker26267获取到任务type=reduce file=[map_26266_8 map_26267_8]
开始处理reduce任务 fileNames=[map_26266_8 map_26267_8]
woker26266获取到任务type=reduce file=[map_26266_9 map_26267_9]
开始处理reduce任务 fileNames=[map_26266_9 map_26267_9]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-1719695906reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-4030767687reduce任务处理完成
reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:2 servers:map[26266:0xc0000c03f0 26267:0xc0000121b0] mapOutputLocations:[26266 26267] unCommitMapTasks:[] unCommitReduceTasks:[]}]
woker26267获取到任务type= file=[]
woker26266获取到任务type= file=[]
Found 8 data race(s)
2022/07/31 02:20:18 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
2022/07/31 02:20:18 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
--- indexer test: PASS
*** Starting map parallelism test.
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[] mapOutputLocations:[] unCommitMapTasks:[../pg-being_ernest.txt ../pg-dorian_gray.txt ../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[] mapOutputLocations:[] unCommitMapTasks:[../pg-being_ernest.txt ../pg-dorian_gray.txt ../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
==================
WARNING: DATA RACE
Read at 0x00c00013e7c8 by goroutine 16:
  runtime.racereadrange()
      <autogenerated>:1 +0x1b

Previous write at 0x00c00013e7c8 by goroutine 14:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:130 +0x4d1
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 16 (running) created at:
  6.824/mr.(*server).heartCheck()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:28 +0x8e
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:127 +0x438
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 14 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
woker26281获取到任务type=map file=[../pg-being_ernest.txt]
woker26280获取到任务type=map file=[../pg-dorian_gray.txt]
Map任务开始, fileNames = [../pg-being_ernest.txt]
Map任务开始, fileNames = [../pg-dorian_gray.txt]
==================
WARNING: DATA RACE
Read at 0x00c00019a0d0 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c00019a0d0 by goroutine 15:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:135 +0x608
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 15 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c000125da0 by main goroutine:
  reflect.maplen()
      /usr/local/go/src/runtime/map.go:1392 +0x0
  reflect.Value.Len()
      /usr/local/go/src/reflect/value.go:1575 +0x268
  internal/fmtsort.Sort()
      /usr/local/go/src/internal/fmtsort/sort.go:59 +0xa4
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0x739
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000125da0 by goroutine 15:
  runtime.mapassign_fast64()
      /usr/local/go/src/runtime/map_fast64.go:93 +0x0
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:119 +0x387
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 15 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c00013e828 by main goroutine:
  reflect.copyVal()
      /usr/local/go/src/reflect/value.go:1835 +0xb3
  reflect.(*MapIter).Value()
      /usr/local/go/src/reflect/value.go:1745 +0x104
  internal/fmtsort.Sort()
      /usr/local/go/src/internal/fmtsort/sort.go:65 +0x2b1
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0x739
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c00013e828 by goroutine 14:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:119 +0x396
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 14 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26280:0xc0000aa000 26281:0xc00013e750] mapOutputLocations:[] unCommitMapTasks:[../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
Map任务完成, fileNames = [../pg-being_ernest.txt]
Map任务完成, fileNames = [../pg-dorian_gray.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26280:0xc0000aa000 26281:0xc00013e750] mapOutputLocations:[] unCommitMapTasks:[../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26281获取到任务type=map file=[../pg-frankenstein.txt]
Map任务开始, fileNames = [../pg-frankenstein.txt]
woker26280获取到任务type=map file=[../pg-grimm.txt]
Map任务开始, fileNames = [../pg-grimm.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26280:0xc0000aa000 26281:0xc00013e750] mapOutputLocations:[] unCommitMapTasks:[../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
Map任务完成, fileNames = [../pg-frankenstein.txt]
Map任务完成, fileNames = [../pg-grimm.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26280:0xc0000aa000 26281:0xc00013e750] mapOutputLocations:[] unCommitMapTasks:[../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26281获取到任务type=map file=[../pg-huckleberry_finn.txt]
Map任务开始, fileNames = [../pg-huckleberry_finn.txt]
woker26280获取到任务type=map file=[../pg-metamorphosis.txt]
Map任务开始, fileNames = [../pg-metamorphosis.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26280:0xc0000aa000 26281:0xc00013e750] mapOutputLocations:[] unCommitMapTasks:[../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
Map任务完成, fileNames = [../pg-metamorphosis.txt]
Map任务完成, fileNames = [../pg-huckleberry_finn.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26280:0xc0000aa000 26281:0xc00013e750] mapOutputLocations:[] unCommitMapTasks:[../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26280获取到任务type=map file=[../pg-sherlock_holmes.txt]
Map任务开始, fileNames = [../pg-sherlock_holmes.txt]
woker26281获取到任务type=map file=[../pg-tom_sawyer.txt]
Map任务开始, fileNames = [../pg-tom_sawyer.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26280:0xc0000aa000 26281:0xc00013e750] mapOutputLocations:[] unCommitMapTasks:[] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
Map任务完成, fileNames = [../pg-tom_sawyer.txt]
Map任务完成, fileNames = [../pg-sherlock_holmes.txt]
==================
WARNING: DATA RACE
Write at 0x00c00019a0a8 by goroutine 62:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:100 +0xab0
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Previous read at 0x00c00019a0a8 by main goroutine:
  6.824/mr.(*Coordinator).Done()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:185 +0x14c
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:32 +0xd5

Goroutine 62 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c00019a0b8 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c00019a0b8 by goroutine 62:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:103 +0xd4b
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 62 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c000016c08 by main goroutine:
  reflect.Value.Int()
      /usr/local/go/src/reflect/value.go:1411 +0x18f8
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:745 +0x1874
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:865 +0x22d8
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000016c08 by goroutine 62:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:103 +0xd28
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 62 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26280:0xc0000aa000 26281:0xc00013e750] mapOutputLocations:[26281 26280] unCommitMapTasks:[] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26281获取到任务type=reduce file=[map_26281_0 map_26280_0]
开始处理reduce任务 fileNames=[map_26281_0 map_26280_0]
woker26280获取到任务type=reduce file=[map_26281_1 map_26280_1]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-124897062开始处理reduce任务 fileNames=[map_26281_1 map_26280_1]
reduce任务处理完成
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-817264738reduce任务处理完成
==================
WARNING: DATA RACE
Read at 0x00c00019a0e8 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c00019a0e8 by goroutine 68:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:145 +0x9cf
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 68 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26280:0xc0000aa000 26281:0xc00013e750] mapOutputLocations:[26281 26280] unCommitMapTasks:[] unCommitReduceTasks:[2 3 4 5 6 7 8 9]}]
woker26281获取到任务type=reduce file=[map_26281_2 map_26280_2]
开始处理reduce任务 fileNames=[map_26281_2 map_26280_2]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-1965860625reduce任务处理完成
woker26280获取到任务type=reduce file=[map_26281_3 map_26280_3]
开始处理reduce任务 fileNames=[map_26281_3 map_26280_3]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-2468573502reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26280:0xc0000aa000 26281:0xc00013e750] mapOutputLocations:[26281 26280] unCommitMapTasks:[] unCommitReduceTasks:[4 5 6 7 8 9]}]
woker26280获取到任务type=reduce file=[map_26281_4 map_26280_4]
开始处理reduce任务 fileNames=[map_26281_4 map_26280_4]
woker26281获取到任务type=reduce file=[map_26281_5 map_26280_5]
开始处理reduce任务 fileNames=[map_26281_5 map_26280_5]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-436609571reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-3134420460reduce任务处理完成
reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26280:0xc0000aa000 26281:0xc00013e750] mapOutputLocations:[26281 26280] unCommitMapTasks:[] unCommitReduceTasks:[6 7 8 9]}]
woker26280获取到任务type=reduce file=[map_26281_6 map_26280_6]
开始处理reduce任务 fileNames=[map_26281_6 map_26280_6]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-943609836woker26281获取到任务type=reduce file=[map_26281_7 map_26280_7]
开始处理reduce任务 fileNames=[map_26281_7 map_26280_7]
reduce任务处理完成
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-4252760345reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26280:0xc0000aa000 26281:0xc00013e750] mapOutputLocations:[26281 26280] unCommitMapTasks:[] unCommitReduceTasks:[8 9]}]
woker26280获取到任务type=reduce file=[map_26281_8 map_26280_8]
开始处理reduce任务 fileNames=[map_26281_8 map_26280_8]
woker26281获取到任务type=reduce file=[map_26281_9 map_26280_9]
开始处理reduce任务 fileNames=[map_26281_9 map_26280_9]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-3598400861reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-3771616795reduce任务处理完成
reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:2 servers:map[26280:0xc0000aa000 26281:0xc00013e750] mapOutputLocations:[26281 26280] unCommitMapTasks:[] unCommitReduceTasks:[]}]
woker26280获取到任务type= file=[]
woker26281获取到任务type= file=[]
Found 8 data race(s)
2022/07/31 02:20:34 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
2022/07/31 02:20:34 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
--- map parallelism test: PASS
*** Starting reduce parallelism test.
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[] mapOutputLocations:[] unCommitMapTasks:[../pg-being_ernest.txt ../pg-dorian_gray.txt ../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[] mapOutputLocations:[] unCommitMapTasks:[../pg-being_ernest.txt ../pg-dorian_gray.txt ../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
==================
WARNING: DATA RACE
Read at 0x00c0000c6198 by goroutine 15:
  runtime.racereadrange()
      <autogenerated>:1 +0x1b

Previous write at 0x00c0000c6198 by goroutine 14:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:130 +0x4d1
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 15 (running) created at:
  6.824/mr.(*server).heartCheck()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:28 +0x8e
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:127 +0x438
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 14 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
woker26297获取到任务type=map file=[../pg-being_ernest.txt]
Map任务开始, fileNames = [../pg-being_ernest.txt]
woker26298获取到任务type=map file=[../pg-dorian_gray.txt]
Map任务开始, fileNames = [../pg-dorian_gray.txt]
Map任务完成, fileNames = [../pg-being_ernest.txt]
Map任务完成, fileNames = [../pg-dorian_gray.txt]
==================
WARNING: DATA RACE
Read at 0x00c0002100d0 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c0002100d0 by goroutine 16:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:135 +0x608
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 16 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c000202270 by main goroutine:
  reflect.maplen()
      /usr/local/go/src/runtime/map.go:1392 +0x0
  reflect.Value.Len()
      /usr/local/go/src/reflect/value.go:1575 +0x268
  internal/fmtsort.Sort()
      /usr/local/go/src/internal/fmtsort/sort.go:59 +0xa4
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0x739
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000202270 by goroutine 16:
  runtime.mapassign_fast64()
      /usr/local/go/src/runtime/map_fast64.go:93 +0x0
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:119 +0x387
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 16 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c0000c61f8 by main goroutine:
  reflect.copyVal()
      /usr/local/go/src/reflect/value.go:1835 +0xb3
  reflect.(*MapIter).Value()
      /usr/local/go/src/reflect/value.go:1745 +0x104
  internal/fmtsort.Sort()
      /usr/local/go/src/internal/fmtsort/sort.go:65 +0x2b1
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0x739
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c0000c61f8 by goroutine 14:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:119 +0x396
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 14 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26297:0xc0000c6120 26298:0xc0001285a0] mapOutputLocations:[] unCommitMapTasks:[../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26297获取到任务type=map file=[../pg-frankenstein.txt]
Map任务开始, fileNames = [../pg-frankenstein.txt]
woker26298获取到任务type=map file=[../pg-grimm.txt]
Map任务开始, fileNames = [../pg-grimm.txt]
Map任务完成, fileNames = [../pg-frankenstein.txt]
Map任务完成, fileNames = [../pg-grimm.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26297:0xc0000c6120 26298:0xc0001285a0] mapOutputLocations:[] unCommitMapTasks:[../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26297获取到任务type=map file=[../pg-huckleberry_finn.txt]
Map任务开始, fileNames = [../pg-huckleberry_finn.txt]
woker26298获取到任务type=map file=[../pg-metamorphosis.txt]
Map任务开始, fileNames = [../pg-metamorphosis.txt]
Map任务完成, fileNames = [../pg-metamorphosis.txt]
Map任务完成, fileNames = [../pg-huckleberry_finn.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26297:0xc0000c6120 26298:0xc0001285a0] mapOutputLocations:[] unCommitMapTasks:[../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26298获取到任务type=map file=[../pg-sherlock_holmes.txt]
Map任务开始, fileNames = [../pg-sherlock_holmes.txt]
woker26297获取到任务type=map file=[../pg-tom_sawyer.txt]
Map任务开始, fileNames = [../pg-tom_sawyer.txt]
Map任务完成, fileNames = [../pg-tom_sawyer.txt]
Map任务完成, fileNames = [../pg-sherlock_holmes.txt]
==================
WARNING: DATA RACE
Write at 0x00c0002100a8 by goroutine 62:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:100 +0xab0
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Previous read at 0x00c0002100a8 by main goroutine:
  6.824/mr.(*Coordinator).Done()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:185 +0x14c
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:32 +0xd5

Goroutine 62 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c0002100b8 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c0002100b8 by goroutine 62:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:103 +0xd4b
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 62 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c000017958 by main goroutine:
  reflect.Value.Int()
      /usr/local/go/src/reflect/value.go:1411 +0x18f8
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:745 +0x1874
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:865 +0x22d8
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000017958 by goroutine 62:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:103 +0xd28
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 62 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26297:0xc0000c6120 26298:0xc0001285a0] mapOutputLocations:[26298 26297] unCommitMapTasks:[] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26297获取到任务type=reduce file=[map_26298_0 map_26297_0]
开始处理reduce任务 fileNames=[map_26298_0 map_26297_0]
woker26298获取到任务type=reduce file=[map_26298_1 map_26297_1]
开始处理reduce任务 fileNames=[map_26298_1 map_26297_1]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26297:0xc0000c6120 26298:0xc0001285a0] mapOutputLocations:[26298 26297] unCommitMapTasks:[] unCommitReduceTasks:[2 3 4 5 6 7 8 9]}]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-322690368reduce任务处理完成
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-247744167reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26297:0xc0000c6120 26298:0xc0001285a0] mapOutputLocations:[26298 26297] unCommitMapTasks:[] unCommitReduceTasks:[2 3 4 5 6 7 8 9]}]
woker26298获取到任务type=reduce file=[map_26298_2 map_26297_2]
开始处理reduce任务 fileNames=[map_26298_2 map_26297_2]
woker26297获取到任务type=reduce file=[map_26298_3 map_26297_3]
开始处理reduce任务 fileNames=[map_26298_3 map_26297_3]
==================
WARNING: DATA RACE
Read at 0x00c0002100e8 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c0002100e8 by goroutine 80:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:145 +0x9cf
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 80 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26297:0xc0000c6120 26298:0xc0001285a0] mapOutputLocations:[26298 26297] unCommitMapTasks:[] unCommitReduceTasks:[4 5 6 7 8 9]}]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-611383328reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26297:0xc0000c6120 26298:0xc0001285a0] mapOutputLocations:[26298 26297] unCommitMapTasks:[] unCommitReduceTasks:[4 5 6 7 8 9]}]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-4054158674reduce任务处理完成
woker26298获取到任务type=reduce file=[map_26298_4 map_26297_4]
开始处理reduce任务 fileNames=[map_26298_4 map_26297_4]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26297:0xc0000c6120 26298:0xc0001285a0] mapOutputLocations:[26298 26297] unCommitMapTasks:[] unCommitReduceTasks:[5 6 7 8 9]}]
woker26297获取到任务type=reduce file=[map_26298_5 map_26297_5]
开始处理reduce任务 fileNames=[map_26298_5 map_26297_5]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26297:0xc0000c6120 26298:0xc0001285a0] mapOutputLocations:[26298 26297] unCommitMapTasks:[] unCommitReduceTasks:[6 7 8 9]}]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-1639821568reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-3836487138reduce任务处理完成
reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26297:0xc0000c6120 26298:0xc0001285a0] mapOutputLocations:[26298 26297] unCommitMapTasks:[] unCommitReduceTasks:[6 7 8 9]}]
woker26298获取到任务type=reduce file=[map_26298_6 map_26297_6]
开始处理reduce任务 fileNames=[map_26298_6 map_26297_6]
woker26297获取到任务type=reduce file=[map_26298_7 map_26297_7]
开始处理reduce任务 fileNames=[map_26298_7 map_26297_7]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-76567561reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26297:0xc0000c6120 26298:0xc0001285a0] mapOutputLocations:[26298 26297] unCommitMapTasks:[] unCommitReduceTasks:[8 9]}]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-2055991775reduce任务处理完成
woker26297获取到任务type=reduce file=[map_26298_8 map_26297_8]
开始处理reduce任务 fileNames=[map_26298_8 map_26297_8]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-2008226968reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26297:0xc0000c6120 26298:0xc0001285a0] mapOutputLocations:[26298 26297] unCommitMapTasks:[] unCommitReduceTasks:[9]}]
woker26298获取到任务type=reduce file=[map_26298_9 map_26297_9]
开始处理reduce任务 fileNames=[map_26298_9 map_26297_9]
woker26297获取到任务type= file=[]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26297:0xc0000c6120 26298:0xc0001285a0] mapOutputLocations:[26298 26297] unCommitMapTasks:[] unCommitReduceTasks:[]}]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-1549113626reduce任务处理完成
woker26297获取到任务type= file=[]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:2 servers:map[26297:0xc0000c6120 26298:0xc0001285a0] mapOutputLocations:[26298 26297] unCommitMapTasks:[] unCommitReduceTasks:[]}]
woker26298获取到任务type= file=[]
woker26297获取到任务type= file=[]
Found 8 data race(s)
2022/07/31 02:20:52 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
2022/07/31 02:20:52 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
--- reduce parallelism test: PASS
*** Starting job count test.
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[] mapOutputLocations:[] unCommitMapTasks:[../pg-being_ernest.txt ../pg-dorian_gray.txt ../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
==================
WARNING: DATA RACE
Read at 0x00c0000b8198 by goroutine 15:
  runtime.racereadrange()
      <autogenerated>:1 +0x1b

Previous write at 0x00c0000b8198 by goroutine 14:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:130 +0x4d1
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 15 (running) created at:
  6.824/mr.(*server).heartCheck()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:28 +0x8e
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:127 +0x438
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 14 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
woker26319获取到任务type=map file=[../pg-being_ernest.txt]
Map任务开始, fileNames = [../pg-being_ernest.txt]
woker26318获取到任务type=map file=[../pg-dorian_gray.txt]
Map任务开始, fileNames = [../pg-dorian_gray.txt]
==================
WARNING: DATA RACE
Read at 0x00c00007a050 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c00007a050 by goroutine 16:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:135 +0x608
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 16 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c000078030 by main goroutine:
  reflect.maplen()
      /usr/local/go/src/runtime/map.go:1392 +0x0
  reflect.Value.Len()
      /usr/local/go/src/reflect/value.go:1575 +0x268
  internal/fmtsort.Sort()
      /usr/local/go/src/internal/fmtsort/sort.go:59 +0xa4
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0x739
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000078030 by goroutine 16:
  runtime.mapassign_fast64()
      /usr/local/go/src/runtime/map_fast64.go:93 +0x0
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:119 +0x387
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 16 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c0000b81f8 by main goroutine:
  reflect.copyVal()
      /usr/local/go/src/reflect/value.go:1835 +0xb3
  reflect.(*MapIter).Value()
      /usr/local/go/src/reflect/value.go:1745 +0x104
  internal/fmtsort.Sort()
      /usr/local/go/src/internal/fmtsort/sort.go:65 +0x2b1
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0x739
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c0000b81f8 by goroutine 14:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:119 +0x396
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 14 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
Map任务完成, fileNames = [../pg-being_ernest.txt]
Map任务完成, fileNames = [../pg-dorian_gray.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26319获取到任务type=map file=[../pg-frankenstein.txt]
Map任务开始, fileNames = [../pg-frankenstein.txt]
woker26318获取到任务type=map file=[../pg-grimm.txt]
Map任务开始, fileNames = [../pg-grimm.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
Map任务完成, fileNames = [../pg-frankenstein.txt]
Map任务完成, fileNames = [../pg-grimm.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26319获取到任务type=map file=[../pg-huckleberry_finn.txt]
Map任务开始, fileNames = [../pg-huckleberry_finn.txt]
woker26318获取到任务type=map file=[../pg-metamorphosis.txt]
Map任务开始, fileNames = [../pg-metamorphosis.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
Map任务完成, fileNames = [../pg-metamorphosis.txt]
Map任务完成, fileNames = [../pg-huckleberry_finn.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26318获取到任务type=map file=[../pg-sherlock_holmes.txt]
Map任务开始, fileNames = [../pg-sherlock_holmes.txt]
woker26319获取到任务type=map file=[../pg-tom_sawyer.txt]
Map任务开始, fileNames = [../pg-tom_sawyer.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[] unCommitMapTasks:[] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
Map任务完成, fileNames = [../pg-tom_sawyer.txt]
Map任务完成, fileNames = [../pg-sherlock_holmes.txt]
==================
WARNING: DATA RACE
Write at 0x00c00007a028 by goroutine 62:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:100 +0xab0
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Previous read at 0x00c00007a028 by main goroutine:
  6.824/mr.(*Coordinator).Done()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:185 +0x14c
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:32 +0xd5

Goroutine 62 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c00007a038 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c00007a038 by goroutine 62:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:103 +0xd4b
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 62 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c0000cb598 by main goroutine:
  reflect.Value.Int()
      /usr/local/go/src/reflect/value.go:1411 +0x18f8
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:745 +0x1874
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:865 +0x22d8
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c0000cb598 by goroutine 62:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:103 +0xd28
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 62 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[26319 26318] unCommitMapTasks:[] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26319获取到任务type=reduce file=[map_26319_0 map_26318_0]
开始处理reduce任务 fileNames=[map_26319_0 map_26318_0]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-1017617387woker26318获取到任务type=reduce file=[map_26319_1 map_26318_1]
开始处理reduce任务 fileNames=[map_26319_1 map_26318_1]
reduce任务处理完成
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-2457076739reduce任务处理完成
==================
WARNING: DATA RACE
Read at 0x00c00007a068 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c00007a068 by goroutine 68:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:145 +0x9cf
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 68 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[26319 26318] unCommitMapTasks:[] unCommitReduceTasks:[2 3 4 5 6 7 8 9]}]
woker26319获取到任务type=reduce file=[map_26319_2 map_26318_2]
开始处理reduce任务 fileNames=[map_26319_2 map_26318_2]
woker26318获取到任务type=reduce file=[map_26319_3 map_26318_3]
开始处理reduce任务 fileNames=[map_26319_3 map_26318_3]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-2988834279reduce任务处理完成
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-3342616226reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[26319 26318] unCommitMapTasks:[] unCommitReduceTasks:[4 5 6 7 8 9]}]
woker26318获取到任务type=reduce file=[map_26319_4 map_26318_4]
开始处理reduce任务 fileNames=[map_26319_4 map_26318_4]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-1720917840woker26319获取到任务type=reduce file=[map_26319_5 map_26318_5]
开始处理reduce任务 fileNames=[map_26319_5 map_26318_5]
reduce任务处理完成
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-593385772reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[26319 26318] unCommitMapTasks:[] unCommitReduceTasks:[6 7 8 9]}]
woker26318获取到任务type=reduce file=[map_26319_6 map_26318_6]
开始处理reduce任务 fileNames=[map_26319_6 map_26318_6]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-2906980264woker26319获取到任务type=reduce file=[map_26319_7 map_26318_7]
开始处理reduce任务 fileNames=[map_26319_7 map_26318_7]
reduce任务处理完成
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-152821305reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[26319 26318] unCommitMapTasks:[] unCommitReduceTasks:[8 9]}]
woker26319获取到任务type=reduce file=[map_26319_8 map_26318_8]
开始处理reduce任务 fileNames=[map_26319_8 map_26318_8]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-2172238056woker26318获取到任务type=reduce file=[map_26319_9 map_26318_9]
开始处理reduce任务 fileNames=[map_26319_9 map_26318_9]
reduce任务处理完成
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-713943122reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:2 servers:map[26318:0xc000012090 26319:0xc0000b8120] mapOutputLocations:[26319 26318] unCommitMapTasks:[] unCommitReduceTasks:[]}]
woker26319获取到任务type= file=[]
woker26318获取到任务type= file=[]
Found 8 data race(s)
2022/07/31 02:21:18 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
2022/07/31 02:21:18 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
2022/07/31 02:21:18 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
2022/07/31 02:21:18 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
--- job count test: PASS
*** Starting early exit test.
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[] mapOutputLocations:[] unCommitMapTasks:[../pg-being_ernest.txt ../pg-dorian_gray.txt ../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
==================
WARNING: DATA RACE
Read at 0x00c000322078 by goroutine 18:
  runtime.racereadrange()
      <autogenerated>:1 +0x1b

Previous write at 0x00c000322078 by goroutine 16:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:130 +0x4d1
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 18 (running) created at:
  6.824/mr.(*server).heartCheck()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:28 +0x8e
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:127 +0x438
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 16 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
woker26345获取到任务type=map file=[../pg-dorian_gray.txt]
woker26343获取到任务type=map file=[../pg-being_ernest.txt]
Map任务开始, fileNames = [../pg-dorian_gray.txt]
Map任务开始, fileNames = [../pg-being_ernest.txt]
woker26342获取到任务type=map file=[../pg-frankenstein.txt]
Map任务开始, fileNames = [../pg-frankenstein.txt]
Map任务完成, fileNames = [../pg-being_ernest.txt]
Map任务完成, fileNames = [../pg-frankenstein.txt]
Map任务完成, fileNames = [../pg-dorian_gray.txt]
==================
WARNING: DATA RACE
Read at 0x00c000202050 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000202050 by goroutine 20:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:135 +0x608
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 20 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c00007c240 by main goroutine:
  reflect.maplen()
      /usr/local/go/src/runtime/map.go:1392 +0x0
  reflect.Value.Len()
      /usr/local/go/src/reflect/value.go:1575 +0x268
  internal/fmtsort.Sort()
      /usr/local/go/src/internal/fmtsort/sort.go:59 +0xa4
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0x739
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c00007c240 by goroutine 20:
  runtime.mapassign_fast64()
      /usr/local/go/src/runtime/map_fast64.go:93 +0x0
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:119 +0x387
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 20 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c0003220d8 by main goroutine:
  reflect.copyVal()
      /usr/local/go/src/reflect/value.go:1835 +0xb3
  reflect.(*MapIter).Value()
      /usr/local/go/src/reflect/value.go:1745 +0x104
  internal/fmtsort.Sort()
      /usr/local/go/src/internal/fmtsort/sort.go:65 +0x2b1
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0x739
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c0003220d8 by goroutine 16:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:119 +0x396
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 16 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26342:0xc0002c2000 26343:0xc000322000 26345:0xc0000c06c0] mapOutputLocations:[] unCommitMapTasks:[../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26343获取到任务type=map file=[../pg-grimm.txt]
Map任务开始, fileNames = [../pg-grimm.txt]
woker26342获取到任务type=map file=[../pg-huckleberry_finn.txt]
Map任务开始, fileNames = [../pg-huckleberry_finn.txt]
woker26345获取到任务type=map file=[../pg-metamorphosis.txt]
Map任务开始, fileNames = [../pg-metamorphosis.txt]
Map任务完成, fileNames = [../pg-metamorphosis.txt]
Map任务完成, fileNames = [../pg-grimm.txt]
Map任务完成, fileNames = [../pg-huckleberry_finn.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26342:0xc0002c2000 26343:0xc000322000 26345:0xc0000c06c0] mapOutputLocations:[] unCommitMapTasks:[../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26345获取到任务type=map file=[../pg-sherlock_holmes.txt]
Map任务开始, fileNames = [../pg-sherlock_holmes.txt]
woker26343获取到任务type=map file=[../pg-tom_sawyer.txt]
Map任务开始, fileNames = [../pg-tom_sawyer.txt]
woker26342获取到任务type= file=[]
Map任务完成, fileNames = [../pg-tom_sawyer.txt]
Map任务完成, fileNames = [../pg-sherlock_holmes.txt]
==================
WARNING: DATA RACE
Write at 0x00c000202028 by goroutine 66:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:100 +0xab0
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Previous read at 0x00c000202028 by main goroutine:
  6.824/mr.(*Coordinator).Done()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:185 +0x14c
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:32 +0xd5

Goroutine 66 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c000202038 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000202038 by goroutine 66:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:103 +0xd4b
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 66 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c0001bac10 by main goroutine:
  reflect.Value.Int()
      /usr/local/go/src/reflect/value.go:1411 +0x18f8
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:745 +0x1874
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:865 +0x22d8
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c0001bac10 by goroutine 66:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:103 +0xd28
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 66 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26342:0xc0002c2000 26343:0xc000322000 26345:0xc0000c06c0] mapOutputLocations:[26343 26345 26342] unCommitMapTasks:[] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26342获取到任务type=reduce file=[map_26343_0 map_26345_0 map_26342_0]
开始处理reduce任务 fileNames=[map_26343_0 map_26345_0 map_26342_0]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-2697631747reduce任务处理完成
woker26343获取到任务type=reduce file=[map_26343_1 map_26345_1 map_26342_1]
开始处理reduce任务 fileNames=[map_26343_1 map_26345_1 map_26342_1]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-2735658765reduce任务处理完成
woker26345获取到任务type=reduce file=[map_26343_2 map_26345_2 map_26342_2]
开始处理reduce任务 fileNames=[map_26343_2 map_26345_2 map_26342_2]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26342:0xc0002c2000 26343:0xc000322000 26345:0xc0000c06c0] mapOutputLocations:[26343 26345 26342] unCommitMapTasks:[] unCommitReduceTasks:[3 4 5 6 7 8 9]}]
woker26342获取到任务type=reduce file=[map_26343_3 map_26345_3 map_26342_3]
开始处理reduce任务 fileNames=[map_26343_3 map_26345_3 map_26342_3]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-4160587970reduce任务处理完成
woker26343获取到任务type=reduce file=[map_26343_4 map_26345_4 map_26342_4]
开始处理reduce任务 fileNames=[map_26343_4 map_26345_4 map_26342_4]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-4092047840reduce任务处理完成
==================
WARNING: DATA RACE
Read at 0x00c000202068 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000202068 by goroutine 12:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:145 +0x9cf
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 12 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26342:0xc0002c2000 26343:0xc000322000 26345:0xc0000c06c0] mapOutputLocations:[26343 26345 26342] unCommitMapTasks:[] unCommitReduceTasks:[5 6 7 8 9]}]
woker26343获取到任务type=reduce file=[map_26343_5 map_26345_5 map_26342_5]
开始处理reduce任务 fileNames=[map_26343_5 map_26345_5 map_26342_5]
woker26342获取到任务type=reduce file=[map_26343_6 map_26345_6 map_26342_6]
开始处理reduce任务 fileNames=[map_26343_6 map_26345_6 map_26342_6]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-2960588890reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26342:0xc0002c2000 26343:0xc000322000 26345:0xc0000c06c0] mapOutputLocations:[26343 26345 26342] unCommitMapTasks:[] unCommitReduceTasks:[7 8 9]}]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-547900649reduce任务处理完成
woker26343获取到任务type=reduce file=[map_26343_7 map_26345_7 map_26342_7]
开始处理reduce任务 fileNames=[map_26343_7 map_26345_7 map_26342_7]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-65764468reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26342:0xc0002c2000 26343:0xc000322000 26345:0xc0000c06c0] mapOutputLocations:[26343 26345 26342] unCommitMapTasks:[] unCommitReduceTasks:[8 9]}]
woker26345获取到任务type=reduce file=[map_26343_8 map_26345_8 map_26342_8]
开始处理reduce任务 fileNames=[map_26343_8 map_26345_8 map_26342_8]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-702501379reduce任务处理完成
woker26343获取到任务type=reduce file=[map_26343_9 map_26345_9 map_26342_9]
开始处理reduce任务 fileNames=[map_26343_9 map_26345_9 map_26342_9]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-873967947reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26342:0xc0002c2000 26343:0xc000322000 26345:0xc0000c06c0] mapOutputLocations:[26343 26345 26342] unCommitMapTasks:[] unCommitReduceTasks:[]}]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-132290471reduce任务处理完成
woker26345获取到任务type= file=[]
woker26343获取到任务type= file=[]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:2 servers:map[26342:0xc0002c2000 26343:0xc000322000 26345:0xc0000c06c0] mapOutputLocations:[26343 26345 26342] unCommitMapTasks:[] unCommitReduceTasks:[]}]
woker26342获取到任务type= file=[]
woker26345获取到任务type= file=[]
woker26343获取到任务type= file=[]
Found 8 data race(s)
2022/07/31 02:21:30 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
2022/07/31 02:21:30 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
2022/07/31 02:21:30 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
--- early exit test: PASS
*** Starting crash test.
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[] mapOutputLocations:[] unCommitMapTasks:[../pg-being_ernest.txt ../pg-dorian_gray.txt ../pg-frankenstein.txt ../pg-grimm.txt ../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
==================
WARNING: DATA RACE
Read at 0x00c000012228 by goroutine 20:
  runtime.racereadrange()
      <autogenerated>:1 +0x1b

Previous write at 0x00c000012228 by goroutine 18:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:130 +0x4d1
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 20 (running) created at:
  6.824/mr.(*server).heartCheck()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:28 +0x8e
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:127 +0x438
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 18 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
woker26420获取到任务type=map file=[../pg-being_ernest.txt]
Map任务开始, fileNames = [../pg-being_ernest.txt]
woker26416获取到任务type=map file=[../pg-dorian_gray.txt]
Map任务开始, fileNames = [../pg-dorian_gray.txt]
woker26422获取到任务type=map file=[../pg-frankenstein.txt]
Map任务开始, fileNames = [../pg-frankenstein.txt]
woker26421获取到任务type=map file=[../pg-grimm.txt]
Map任务开始, fileNames = [../pg-grimm.txt]
Map任务完成, fileNames = [../pg-being_ernest.txt]
Map任务完成, fileNames = [../pg-grimm.txt]
==================
WARNING: DATA RACE
Read at 0x00c000208150 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000208150 by goroutine 24:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:135 +0x608
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 24 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c00018bf20 by main goroutine:
  reflect.maplen()
      /usr/local/go/src/runtime/map.go:1392 +0x0
  reflect.Value.Len()
      /usr/local/go/src/reflect/value.go:1575 +0x268
  internal/fmtsort.Sort()
      /usr/local/go/src/internal/fmtsort/sort.go:59 +0xa4
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0x739
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c00018bf20 by goroutine 24:
  runtime.mapassign_fast64()
      /usr/local/go/src/runtime/map_fast64.go:93 +0x0
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:119 +0x387
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 24 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c000012288 by main goroutine:
  reflect.copyVal()
      /usr/local/go/src/reflect/value.go:1835 +0xb3
  reflect.(*MapIter).Value()
      /usr/local/go/src/reflect/value.go:1745 +0x104
  internal/fmtsort.Sort()
      /usr/local/go/src/internal/fmtsort/sort.go:65 +0x2b1
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:769 +0x739
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000012288 by goroutine 18:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:119 +0x396
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 18 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26416:0xc000380000 26420:0xc0000121b0 26421:0xc000380090 26422:0xc000346000] mapOutputLocations:[] unCommitMapTasks:[../pg-huckleberry_finn.txt ../pg-metamorphosis.txt ../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
Map任务完成, fileNames = [../pg-frankenstein.txt]
woker26420获取到任务type=map file=[../pg-huckleberry_finn.txt]
Map任务开始, fileNames = [../pg-huckleberry_finn.txt]
woker26421获取到任务type=map file=[../pg-metamorphosis.txt]
Map任务开始, fileNames = [../pg-metamorphosis.txt]
Map任务完成, fileNames = [../pg-huckleberry_finn.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26416:0xc000380000 26420:0xc0000121b0 26421:0xc000380090 26422:0xc000346000] mapOutputLocations:[] unCommitMapTasks:[../pg-sherlock_holmes.txt ../pg-tom_sawyer.txt] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26422获取到任务type=map file=[../pg-sherlock_holmes.txt]
Map任务开始, fileNames = [../pg-sherlock_holmes.txt]
woker26420获取到任务type=map file=[../pg-tom_sawyer.txt]
Map任务开始, fileNames = [../pg-tom_sawyer.txt]
Map任务完成, fileNames = [../pg-tom_sawyer.txt]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26416:0xc000380000 26420:0xc0000121b0 26421:0xc000380090 26422:0xc000346000] mapOutputLocations:[] unCommitMapTasks:[] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26420获取到任务type= file=[]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26416:0xc000380000 26420:0xc0000121b0 26421:0xc000380090 26422:0xc000346000] mapOutputLocations:[] unCommitMapTasks:[] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
Map任务完成, fileNames = [../pg-sherlock_holmes.txt]
Map任务完成, fileNames = [../pg-dorian_gray.txt]
woker26420获取到任务type= file=[]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26416:0xc000380000 26420:0xc0000121b0 26421:0xc000380090 26422:0xc000346000] mapOutputLocations:[] unCommitMapTasks:[] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26422获取到任务type= file=[]
woker26416获取到任务type= file=[]
woker26420获取到任务type= file=[]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:0 servers:map[26416:0xc000380000 26420:0xc0000121b0 26421:0xc000380090 26422:0xc000346000] mapOutputLocations:[] unCommitMapTasks:[] unCommitReduceTasks:[0 1 2 3 4 5 6 7 8 9]}]
woker26422获取到任务type= file=[]
Map任务完成, fileNames = [../pg-metamorphosis.txt]
==================
WARNING: DATA RACE
Write at 0x00c000208128 by goroutine 7:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:100 +0xab0
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Previous read at 0x00c000208128 by main goroutine:
  6.824/mr.(*Coordinator).Done()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:185 +0x14c
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:32 +0xd5

Goroutine 7 (running) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
woker26416获取到任务type=reduce file=[map_26416_0 map_26422_0 map_26421_0 map_26420_0]
开始处理reduce任务 fileNames=[map_26416_0 map_26422_0 map_26421_0 map_26420_0]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-3738541964reduce任务处理完成
woker26420获取到任务type=reduce file=[map_26416_1 map_26422_1 map_26421_1 map_26420_1]
开始处理reduce任务 fileNames=[map_26416_1 map_26422_1 map_26421_1 map_26420_1]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-3737724750reduce任务处理完成
==================
WARNING: DATA RACE
Read at 0x00c000208138 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000208138 by goroutine 7:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:103 +0xd4b
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 7 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c000208168 by main goroutine:
  reflect.typedmemmove()
      /usr/local/go/src/runtime/mbarrier.go:178 +0x0
  reflect.packEface()
      /usr/local/go/src/reflect/value.go:123 +0xae
  reflect.valueInterface()
      /usr/local/go/src/reflect/value.go:1460 +0x188
  reflect.Value.Interface()
      /usr/local/go/src/reflect/value.go:1430 +0xc9
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:722 +0xca
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000208168 by goroutine 19:
  6.824/mr.(*Coordinator).GetTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:145 +0x9cf
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 19 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
==================
WARNING: DATA RACE
Read at 0x00c000138d10 by main goroutine:
  reflect.Value.Int()
      /usr/local/go/src/reflect/value.go:1411 +0x18f8
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:745 +0x1874
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:865 +0x22d8
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:806 +0x1c92
  fmt.(*pp).printValue()
      /usr/local/go/src/fmt/print.go:876 +0x12be
  fmt.(*pp).printArg()
      /usr/local/go/src/fmt/print.go:712 +0xdf4
  fmt.(*pp).doPrintf()
      /usr/local/go/src/fmt/print.go:1026 +0x48f
  fmt.Fprintf()
      /usr/local/go/src/fmt/print.go:204 +0x7e
  fmt.Printf()
      /usr/local/go/src/fmt/print.go:213 +0x139
  main.main()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/main/mrcoordinator.go:34 +0xe5

Previous write at 0x00c000138d10 by goroutine 7:
  6.824/mr.(*Coordinator).DoneTask()
      /Users/huangjunhao/大学/CS_Notes/源码论文学习/lab/6.824-golabs-2022/src/mr/coordinator.go:103 +0xd28
  runtime.call32()
      /usr/local/go/src/runtime/asm_amd64.s:702 +0x48
  reflect.Value.Call()
      /usr/local/go/src/reflect/value.go:339 +0xd7
  net/rpc.(*service).call()
      /usr/local/go/src/net/rpc/server.go:381 +0x277
  net/rpc.(*Server).ServeCodec.func1()
      /usr/local/go/src/net/rpc/server.go:478 +0x16b

Goroutine 7 (finished) created at:
  net/rpc.(*Server).ServeCodec()
      /usr/local/go/src/net/rpc/server.go:478 +0x5ee
  net/rpc.(*Server).ServeConn()
      /usr/local/go/src/net/rpc/server.go:453 +0x625
  net/rpc.(*Server).ServeHTTP()
      /usr/local/go/src/net/rpc/server.go:708 +0x504
  net/http.(*ServeMux).ServeHTTP()
      /usr/local/go/src/net/http/server.go:2462 +0xc5
  net/http.serverHandler.ServeHTTP()
      /usr/local/go/src/net/http/server.go:2916 +0x896
  net/http.(*conn).serve()
      /usr/local/go/src/net/http/server.go:1966 +0xbaa
  net/http.(*Server).Serve.func3()
      /usr/local/go/src/net/http/server.go:3071 +0x58
==================
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26416:0xc000380000 26420:0xc0000121b0 26421:0xc000380090 26422:0xc000346000] mapOutputLocations:[26416 26422 26421 26420] unCommitMapTasks:[] unCommitReduceTasks:[2 3 4 5 6 7 8 9]}]
woker26422获取到任务type=reduce file=[map_26416_2 map_26422_2 map_26421_2 map_26420_2]
开始处理reduce任务 fileNames=[map_26416_2 map_26422_2 map_26421_2 map_26420_2]
woker26421获取到任务type=reduce file=[map_26416_3 map_26422_3 map_26421_3 map_26420_3]
开始处理reduce任务 fileNames=[map_26416_3 map_26422_3 map_26421_3 map_26420_3]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-349796233reduce任务处理完成
woker26416获取到任务type=reduce file=[map_26416_4 map_26422_4 map_26421_4 map_26420_4]
开始处理reduce任务 fileNames=[map_26416_4 map_26422_4 map_26421_4 map_26420_4]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-2886337080reduce任务处理完成
woker26420获取到任务type=reduce file=[map_26416_5 map_26422_5 map_26421_5 map_26420_5]
开始处理reduce任务 fileNames=[map_26416_5 map_26422_5 map_26421_5 map_26420_5]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-3128329640reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26416:0xc000380000 26420:0xc0000121b0 26421:0xc000380090 26422:0xc000346000] mapOutputLocations:[26416 26422 26421 26420] unCommitMapTasks:[] unCommitReduceTasks:[6 7 8 9]}]
woker26421获取到任务type=reduce file=[map_26416_6 map_26422_6 map_26421_6 map_26420_6]
开始处理reduce任务 fileNames=[map_26416_6 map_26422_6 map_26421_6 map_26420_6]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-2968660899reduce任务处理完成
woker26416获取到任务type=reduce file=[map_26416_7 map_26422_7 map_26421_7 map_26420_7]
开始处理reduce任务 fileNames=[map_26416_7 map_26422_7 map_26421_7 map_26420_7]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-1072982620reduce任务处理完成
woker26420获取到任务type=reduce file=[map_26416_8 map_26422_8 map_26421_8 map_26420_8]
开始处理reduce任务 fileNames=[map_26416_8 map_26422_8 map_26421_8 map_26420_8]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-776734892reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26416:0xc000380000 26420:0xc0000121b0 26421:0xc000380090 26422:0xc000346000] mapOutputLocations:[26416 26422 26421 26420] unCommitMapTasks:[] unCommitReduceTasks:[9]}]
woker26416获取到任务type=reduce file=[map_26416_9 map_26422_9 map_26421_9 map_26420_9]
开始处理reduce任务 fileNames=[map_26416_9 map_26422_9 map_26421_9 map_26420_9]
woker26421获取到任务type= file=[]
woker26420获取到任务type= file=[]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26416:0xc000380000 26420:0xc0000121b0 26421:0xc000380090 26422:0xc000346000] mapOutputLocations:[26416 26422 26421 26420] unCommitMapTasks:[] unCommitReduceTasks:[]}]
woker26421获取到任务type= file=[]
woker26420获取到任务type= file=[]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26416:0xc000380000 26420:0xc0000121b0 26421:0xc000380090 26422:0xc000346000] mapOutputLocations:[26416 26422 26421 26420] unCommitMapTasks:[] unCommitReduceTasks:[]}]
woker26421获取到任务type= file=[]
woker26420获取到任务type= file=[]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26416:0xc000380000 26420:0xc0000121b0 26421:0xc000380090 26422:0xc000346000] mapOutputLocations:[26416 26422 26421 26420] unCommitMapTasks:[] unCommitReduceTasks:[]}]
woker26421获取到任务type= file=[]
woker26420获取到任务type= file=[]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26416:0xc000380000 26420:0xc0000121b0 26421:0xc000380090 26422:0xc000346000] mapOutputLocations:[26416 26422 26421 26420] unCommitMapTasks:[] unCommitReduceTasks:[]}]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-291518034reduce任务处理完成
woker26421获取到任务type= file=[]
woker26420获取到任务type= file=[]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26416:0xc000380000 26420:0xc0000121b0 26421:0xc000380090 26422:0xc000346000] mapOutputLocations:[26416 26422 26421 26420] unCommitMapTasks:[] unCommitReduceTasks:[]}]
woker26416获取到任务type= file=[]
woker26421获取到任务type= file=[]
woker26420获取到任务type= file=[]
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:1 servers:map[26416:0xc000380000 26420:0xc0000121b0 26421:0xc000380090 26422:0xc000346000] mapOutputLocations:[26416 26422 26421 26420] unCommitMapTasks:[] unCommitReduceTasks:[]}]
woker26416获取到任务type= file=[]
woker26421获取到任务type= file=[]
reduce开始对中间文件进行更名fileName = /tmp/reduce-inter-288007380reduce任务处理完成
coordinator=[&{RWMutex:{w:{state:0 sema:0} writerSem:0 readerSem:0 readerCount:0 readerWait:0} mapN:8 reduceN:10 status:2 servers:map[26416:0xc000380000 26420:0xc0000121b0 26421:0xc000380090 26422:0xc000346000] mapOutputLocations:[26416 26422 26421 26420] unCommitMapTasks:[] unCommitReduceTasks:[]}]
woker26420获取到任务type= file=[]
woker26416获取到任务type= file=[]
woker26421获取到任务type= file=[]
woker26422获取到任务type= file=[]
woker26420获取到任务type= file=[]
Found 8 data race(s)
2022/07/31 02:21:49 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
2022/07/31 02:21:49 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
2022/07/31 02:21:50 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
2022/07/31 02:21:50 dialing:dial unix /var/tmp/824-mr-0: connect: connection refused
--- crash test: PASS
*** PASSED ALL TESTS
